<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="R言語とTidyverseによるデータ分析入門。社労士がHR分析で実践した、dplyr・ggplot2を使ったデータ前処理と可視化の基礎を初心者向けに解説します。">
    <meta name="keywords" content="R言語,Tidyverse,データ分析,dplyr,ggplot2,データサイエンス,統計分析">
    <title>R言語Tidyverseデータ分析入門｜社労士が実践するHRデータ分析の基礎 | MechaToraのブログ</title>
    <link rel="stylesheet" href="../styles.css">

    <!-- 構造化データ -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "R言語Tidyverseデータ分析入門｜社労士が実践するHRデータ分析の基礎",
        "description": "R言語とTidyverseによるデータ分析入門。社労士がHR分析で実践した、dplyr・ggplot2を使ったデータ前処理と可視化の基礎を初心者向けに解説します。",
        "author": {
            "@type": "Person",
            "name": "MechaTora"
        },
        "datePublished": "2025-01-14",
        "dateModified": "2025-01-14"
    }
    </script>
</head>
<body>
    <!-- ヘッダー -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="../index.html" class="logo">
                    <span>🐱</span>
                    <span>MechaToraのブログ</span>
                </a>
                <nav>
                    <ul>
                        <li><a href="../index.html">ホーム</a></li>
                        <li><a href="../articles.html">記事一覧</a></li>
                        <li><a href="../about.html">運営者情報</a></li>
                        <li><a href="../contact.html">お問い合わせ</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- パンくずリスト -->
    <div class="container">
        <nav class="breadcrumb">
            <ul>
                <li><a href="../index.html">ホーム</a></li>
                <li><a href="../articles.html">記事一覧</a></li>
                <li><a href="../articles.html#datascience">データサイエンス</a></li>
                <li>R言語Tidyverseデータ分析入門</li>
            </ul>
        </nav>
    </div>

    <!-- メインコンテンツ -->
    <main>
        <div class="container">
            <div class="content-wrapper">
                <article>
                    <!-- 記事メタ情報 -->
                    <div class="article-meta" style="margin-bottom: 2rem;">
                        <span class="article-category">データサイエンス</span>
                        <time datetime="2025-01-14">2025年1月14日</time>
                        <span style="margin-left: 1rem; color: var(--text-secondary);">更新日: 2025年1月14日</span>
                    </div>

                    <!-- 記事タイトル -->
                    <h1>R言語Tidyverseデータ分析入門｜社労士が実践するHRデータ分析の基礎</h1>

                    <!-- リード文（導入） -->
                    <p style="font-size: 1.125rem; line-height: 1.8; padding: 1.5rem; background: var(--bg-secondary); border-left: 4px solid var(--primary-color); margin: 2rem 0;">
                        「Excelでの分析に限界を感じている」「データサイエンスに興味はあるけど、何から始めればいいかわからない」。社労士として人事データを扱う中で、私も同じ悩みを抱えていました。そんな時に出会ったのが、R言語とTidyverseです。この記事では、プログラミング未経験の私が、実務でHRデータ分析を行えるようになるまでに学んだTidyverseの基礎を、初心者目線で解説します。
                    </p>

                    <!-- 記事本文 -->
                    <h2>R言語とTidyverseとの出会い</h2>

                    <h3>Excelからの脱却を決意した理由</h3>
                    <p>
                        社労士として、人事データ（従業員の年齢、勤続年数、給与、離職率など）を分析する機会が多くありました。しかし、Excelでの分析には以下のような課題がありました：
                    </p>
                    <ul>
                        <li><strong>大量データの処理が遅い：</strong>数千行のデータだと動作が重くなる</li>
                        <li><strong>再現性がない：</strong>手作業が多く、同じ分析を再現するのが困難</li>
                        <li><strong>複雑な分析が難しい：</strong>クロス集計やグループ化が煩雑</li>
                        <li><strong>グラフの柔軟性が低い：</strong>見栄えの良いグラフを作るのに時間がかかる</li>
                    </ul>

                    <p>
                        「もっと効率的に、正確に、美しくデータを分析したい」という思いから、データ分析ツールを探し始めました。
                    </p>

                    <h3>なぜR言語・Tidyverseを選んだのか</h3>
                    <p>
                        PythonやSQLなど選択肢がある中で、R言語とTidyverseを選んだ理由：
                    </p>
                    <ul>
                        <li><strong>統計分析に特化：</strong>HRデータ分析に必要な統計機能が豊富</li>
                        <li><strong>Tidyverseの直感的な文法：</strong>英語の文章のように読めるコード</li>
                        <li><strong>可視化が美しい：</strong>ggplot2で論文レベルのグラフが作れる</li>
                        <li><strong>無料：</strong>R言語もRStudioも完全無料</li>
                        <li><strong>豊富な日本語資料：</strong>学習教材が充実している</li>
                    </ul>

                    <h2>Tidyverseとは何か</h2>

                    <h3>Tidyverseの概要</h3>
                    <p>
                        Tidyverseは、データサイエンスのワークフローを効率化するR言語のパッケージ集です。以下の主要パッケージで構成されています：
                    </p>
                    <ul>
                        <li><strong>dplyr：</strong>データの絞り込み・集計・変換（SQLのような操作）</li>
                        <li><strong>ggplot2：</strong>データの可視化（美しいグラフ作成）</li>
                        <li><strong>tidyr：</strong>データの整形（縦横変換など）</li>
                        <li><strong>readr：</strong>CSVなどのファイル読み込み</li>
                        <li><strong>purrr：</strong>関数型プログラミング（繰り返し処理）</li>
                        <li><strong>stringr：</strong>文字列操作</li>
                    </ul>

                    <h3>Tidyverseの哲学：パイプ演算子（%>%）</h3>
                    <p>
                        Tidyverseの最大の特徴は「パイプ演算子（%>%）」です。これにより、処理を「流れるように」記述できます。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# 従来のR言語（ネストが深い）
result <- mean(filter(data, age > 30)$salary)

# Tidyverseスタイル（読みやすい）
result <- data %>%
  filter(age > 30) %>%
  summarise(平均給与 = mean(salary))
</pre>

                    <p>
                        パイプ演算子は「次の関数にデータを渡す」という意味です。「データを取り出して → 絞り込んで → 集計する」という流れが一目でわかります。
                    </p>

                    <h2>実践：HRデータ分析の基本ワークフロー</h2>

                    <h3>ステップ1: 環境構築とデータ読み込み</h3>
                    <p>
                        まず、RStudioをインストールし、Tidyverseをセットアップします。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# Tidyverseのインストール（初回のみ）
install.packages("tidyverse")

# ライブラリの読み込み
library(tidyverse)

# CSVファイルの読み込み
employees <- read_csv("従業員データ.csv")

# データの確認
glimpse(employees)
</pre>

                    <p>
                        <strong>実務での活用例：</strong><br>
                        私は給与計算システムからエクスポートしたCSVファイルを、この方法で読み込んでいます。数千行のデータも一瞬で読み込めます。
                    </p>

                    <h3>ステップ2: データの絞り込み（filter）</h3>
                    <p>
                        特定の条件に合致するデータだけを抽出します。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# 30歳以上の従業員だけ抽出
employees_30plus <- employees %>%
  filter(年齢 >= 30)

# 複数条件（AND）
it_department_30plus <- employees %>%
  filter(年齢 >= 30, 部署 == "IT部")

# OR条件
young_or_senior <- employees %>%
  filter(年齢 < 25 | 年齢 > 55)
</pre>

                    <p>
                        <strong>実務での活用例：</strong><br>
                        「定年間近の従業員（60歳以上）」や「入社3年以内の若手」など、人事施策のターゲットを絞り込むのに活用しています。
                    </p>

                    <h3>ステップ3: データの集計（group_by + summarise）</h3>
                    <p>
                        グループごとに集計を行う、最も使用頻度の高い操作です。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# 部署ごとの平均給与
dept_salary <- employees %>%
  group_by(部署) %>%
  summarise(
    従業員数 = n(),
    平均給与 = mean(給与),
    最高給与 = max(給与),
    最低給与 = min(給与)
  )

# 部署×性別のクロス集計
dept_gender <- employees %>%
  group_by(部署, 性別) %>%
  summarise(従業員数 = n(), .groups = "drop")
</pre>

                    <p>
                        <strong>実務での活用例：</strong><br>
                        部署ごとの人件費分析、男女比の確認、年齢層別の分布など、経営層への報告資料作成に使っています。
                    </p>

                    <h3>ステップ4: データの並び替え（arrange）</h3>
                    <p>
                        データを昇順・降順で並び替えます。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# 給与の高い順に並び替え
high_earners <- employees %>%
  arrange(desc(給与))

# 部署ごとに、給与の高い順
by_dept <- employees %>%
  group_by(部署) %>%
  arrange(部署, desc(給与))
</pre>

                    <h3>ステップ5: 新しい列の追加（mutate）</h3>
                    <p>
                        既存のデータから新しい列を計算して追加します。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# 年齢層の分類を追加
employees_with_age_group <- employees %>%
  mutate(
    年齢層 = case_when(
      年齢 < 30 ~ "若手",
      年齢 < 50 ~ "中堅",
      TRUE ~ "ベテラン"
    ),
    月給 = 給与 / 12
  )
</pre>

                    <p>
                        <strong>実務での活用例：</strong><br>
                        賞与計算（基本給×月数）、勤続年数の計算（現在年 - 入社年）など、派生データの作成に活用しています。
                    </p>

                    <h2>データ可視化の基礎（ggplot2）</h2>

                    <h3>ggplot2の基本構造</h3>
                    <p>
                        ggplot2は「レイヤーを重ねる」ように、グラフを作成します。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# 基本構造
ggplot(data = データ, aes(x = X軸, y = Y軸)) +
  geom_グラフの種類() +
  labs(title = "タイトル") +
  theme_テーマ()
</pre>

                    <h3>実践例1: 棒グラフ（部署別従業員数）</h3>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
dept_count <- employees %>%
  group_by(部署) %>%
  summarise(従業員数 = n())

ggplot(dept_count, aes(x = 部署, y = 従業員数, fill = 部署)) +
  geom_col() +
  labs(
    title = "部署別従業員数",
    x = "部署",
    y = "従業員数（人）"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
</pre>

                    <h3>実践例2: 散布図（年齢と給与の関係）</h3>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
ggplot(employees, aes(x = 年齢, y = 給与, color = 部署)) +
  geom_point(alpha = 0.6, size = 3) +
  geom_smooth(method = "lm", se = FALSE) +  # 回帰直線を追加
  labs(
    title = "年齢と給与の関係",
    x = "年齢（歳）",
    y = "年収（万円）"
  ) +
  theme_minimal()
</pre>

                    <h3>実践例3: ヒストグラム（給与の分布）</h3>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
ggplot(employees, aes(x = 給与)) +
  geom_histogram(binwidth = 50, fill = "#2563eb", color = "white") +
  labs(
    title = "給与分布",
    x = "年収（万円）",
    y = "従業員数"
  ) +
  theme_minimal()
</pre>

                    <p>
                        <strong>実務での活用例：</strong><br>
                        これらのグラフを経営会議の資料に組み込んでいます。Excelで作るより圧倒的に速く、見栄えも良いグラフが作れます。
                    </p>

                    <h2>私が実際に行ったHR分析プロジェクト</h2>

                    <h3>プロジェクト1: 離職率分析</h3>
                    <p>
                        「どの部署、どの年齢層で離職率が高いか」を分析しました。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
# 部署×年齢層別の離職率
turnover_analysis <- employees %>%
  mutate(年齢層 = case_when(
    年齢 < 30 ~ "20代",
    年齢 < 40 ~ "30代",
    年齢 < 50 ~ "40代",
    TRUE ~ "50代以上"
  )) %>%
  group_by(部署, 年齢層) %>%
  summarise(
    総数 = n(),
    離職者数 = sum(離職フラグ == 1),
    離職率 = 離職者数 / 総数 * 100,
    .groups = "drop"
  )

# ヒートマップで可視化
ggplot(turnover_analysis, aes(x = 年齢層, y = 部署, fill = 離職率)) +
  geom_tile(color = "white") +
  scale_fill_gradient(low = "green", high = "red") +
  labs(title = "部署×年齢層別 離職率") +
  theme_minimal()
</pre>

                    <p>
                        <strong>結果：</strong>営業部の20代、IT部の30代で離職率が高いことが判明し、対策を打つことができました。
                    </p>

                    <h3>プロジェクト2: 残業時間の分析</h3>
                    <p>
                        「どの部署で長時間労働が発生しているか」を月次で追跡しました。
                    </p>
                    <pre style="background: #1f2937; color: #f9fafb; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0;">
overtime_trend <- overtime_data %>%
  group_by(年月, 部署) %>%
  summarise(平均残業時間 = mean(残業時間), .groups = "drop")

ggplot(overtime_trend, aes(x = 年月, y = 平均残業時間, color = 部署, group = 部署)) +
  geom_line(size = 1.2) +
  geom_hline(yintercept = 45, linetype = "dashed", color = "red") +  # 上限ライン
  labs(
    title = "部署別 平均残業時間の推移",
    x = "年月",
    y = "平均残業時間（時間/月）"
  ) +
  theme_minimal()
</pre>

                    <p>
                        <strong>結果：</strong>特定の月に特定部署で急増していることがわかり、業務配分を見直すきっかけになりました。
                    </p>

                    <h2>学習で役立ったリソース</h2>

                    <h3>初心者におすすめの書籍</h3>
                    <ul>
                        <li><strong>「RユーザのためのRStudio[実践]入門」</strong>（技術評論社）</li>
                        <li><strong>「Rではじめるデータサイエンス」</strong>（オライリー・ジャパン）</li>
                        <li><strong>「前処理大全」</strong>（技術評論社）</li>
                    </ul>

                    <h3>無料で学べるオンラインリソース</h3>
                    <ul>
                        <li><strong>RStudio公式チートシート：</strong>dplyr、ggplot2の関数が一覧できる</li>
                        <li><strong>R for Data Science（無料Web版）：</strong>Tidyverse開発者による公式ガイド</li>
                        <li><strong>Tokyo.R：</strong>日本のRユーザーコミュニティ</li>
                    </ul>

                    <h2>初心者がつまずきやすいポイントと解決策</h2>

                    <h3>つまずき1: パイプ演算子の理解</h3>
                    <p>
                        <strong>解決策：</strong>「%>%は『データを次に渡す』という意味」と覚える。最初は1行ずつ実行して、データがどう変化するか確認する。
                    </p>

                    <h3>つまずき2: エラーメッセージが英語</h3>
                    <p>
                        <strong>解決策：</strong>エラーメッセージをGoogle翻訳に入れる。または、Stack OverflowやQiitaで検索すると、日本語の解決策が見つかる。
                    </p>

                    <h3>つまずき3: ggplot2のグラフ調整</h3>
                    <p>
                        <strong>解決策：</strong>RStudioの「ggplot2チートシート」をダウンロードし、印刷して手元に置く。必要な関数がすぐ見つかる。
                    </p>

                    <h2>R言語を学んで変わったこと</h2>

                    <h3>業務面での変化</h3>
                    <ul>
                        <li><strong>分析時間が1/10に：</strong>Excelで半日かかっていた分析が、30分で完了</li>
                        <li><strong>再現性が向上：</strong>コードを保存しておけば、同じ分析を瞬時に再実行可能</li>
                        <li><strong>説得力のある資料：</strong>美しいグラフで経営層への提案が通りやすくなった</li>
                    </ul>

                    <h3>キャリア面での変化</h3>
                    <ul>
                        <li><strong>データドリブンな意思決定ができるようになった</strong></li>
                        <li><strong>社労士 × データサイエンスという希少性の獲得</strong></li>
                        <li><strong>プログラミングへの苦手意識がなくなった</strong></li>
                    </ul>

                    <!-- まとめセクション -->
                    <h2>まとめ</h2>
                    <p>
                        R言語とTidyverseは、プログラミング未経験者でも習得可能な、強力なデータ分析ツールです。このページのポイントをまとめます：
                    </p>
                    <ul>
                        <li><strong>Tidyverseの5大機能：</strong>filter（絞り込み）、group_by + summarise（集計）、arrange（並び替え）、mutate（列追加）、ggplot2（可視化）</li>
                        <li><strong>パイプ演算子（%>%）：</strong>処理を「流れるように」記述できる</li>
                        <li><strong>実務活用：</strong>HRデータ分析、離職率分析、残業時間分析など</li>
                        <li><strong>学習リソース：</strong>書籍、公式チートシート、オンラインコミュニティを活用</li>
                        <li><strong>再現性と効率性：</strong>Excelからの脱却で、分析時間を大幅短縮</li>
                    </ul>

                    <p>
                        データ分析のスキルは、どの職種でも強力な武器になります。社労士として人事データを扱う方、Excelに限界を感じている方は、ぜひR言語とTidyverseに挑戦してみてください。
                    </p>

                    <!-- 関連記事 -->
                    <div style="margin-top: 4rem; padding: 2rem; background: var(--bg-secondary); border-radius: 8px;">
                        <h3 style="margin-bottom: 1rem;">📚 関連記事</h3>
                        <ul style="list-style: none; padding: 0;">
                            <li style="margin-bottom: 0.75rem;">
                                <a href="github-pages-guide.html" style="color: var(--primary-color); text-decoration: none; font-weight: 500;">→ 初心者でも分かるGitHub Pagesでの無料サイト公開｜完全ガイド</a>
                            </li>
                            <li style="margin-bottom: 0.75rem;">
                                <a href="qualification-calendar-dev.html" style="color: var(--primary-color); text-decoration: none; font-weight: 500;">→ 資格試験カレンダーアプリ開発秘話｜試験日程を一括管理するツールの作り方</a>
                            </li>
                            <li style="margin-bottom: 0.75rem;">
                                <a href="cook-suggest-development.html" style="color: var(--primary-color); text-decoration: none; font-weight: 500;">→ CookSuggestアプリ開発秘話｜料理提案ツールの技術と工夫</a>
                            </li>
                        </ul>
                    </div>

                    <!-- 記事フッター -->
                    <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-secondary);">
                        <p>この記事が役に立ったら、ぜひシェアしてください！</p>
                    </div>
                </article>
            </div>
        </div>
    </main>

    <!-- フッター -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MechaToraのブログ</h3>
                    <p style="color: var(--text-secondary); font-size: 0.875rem;">
                        社労士×エンジニアのMechaToraが運営する技術ブログです。
                    </p>
                </div>
                <div class="footer-section">
                    <h3>カテゴリー</h3>
                    <ul>
                        <li><a href="../articles.html#tech">技術・開発</a></li>
                        <li><a href="../articles.html#career">キャリア・資格</a></li>
                        <li><a href="../articles.html#datascience">データサイエンス</a></li>
                        <li><a href="../articles.html#misc">雑記</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>サイト情報</h3>
                    <ul>
                        <li><a href="../about.html">運営者情報</a></li>
                        <li><a href="../privacy.html">プライバシーポリシー</a></li>
                        <li><a href="../contact.html">お問い合わせ</a></li>
                        <li><a href="https://mechatora.com" target="_blank" rel="noopener">MechaTora（開発ツール）</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MechaTora. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>
