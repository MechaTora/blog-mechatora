<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="" id="meta-description">
    <meta name="keywords" content="" id="meta-keywords">
    <title id="page-title">MechaToraã®ãƒ–ãƒ­ã‚°</title>    <link rel="icon" href="favicon.svg" type="image/svg+xml">

    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>

    <!-- Google Analytics (æº–å‚™å®Œäº† - GA4æ¸¬å®šIDã‚’è¨­å®šã—ã¦ãã ã•ã„) -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script> -->
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <span>ğŸ±</span>
                    <span>MechaToraã®ãƒ–ãƒ­ã‚°</span>
                </a>
                <nav>
                    <ul>
                        <li><a href="index.html">ãƒ›ãƒ¼ãƒ </a></li>
                        <li><a href="articles.html">è¨˜äº‹ä¸€è¦§</a></li>
                        <li><a href="about.html">é‹å–¶è€…æƒ…å ±</a></li>
                        <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ -->
    <div class="container">
        <nav class="breadcrumb">
            <ul>
                <li><a href="index.html">ãƒ›ãƒ¼ãƒ </a></li>
                <li><a href="articles.html">è¨˜äº‹ä¸€è¦§</a></li>
                <li id="breadcrumb-title">è¨˜äº‹</li>
            </ul>
        </nav>
    </div>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main>
        <div class="container">
            <div class="content-wrapper">
                <article>
                    <div id="article-loading" style="text-align: center; padding: 3rem;">
                        <p>è¨˜äº‹ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>
                    </div>
                    <div id="article-error" style="display: none; text-align: center; padding: 3rem;">
                        <h2>è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h2>
                        <p><a href="articles.html">è¨˜äº‹ä¸€è¦§ã«æˆ»ã‚‹</a></p>
                    </div>
                    <div id="article-content" style="display: none;">
                        <h1 id="article-title"></h1>
                        <div class="article-meta" style="color: var(--text-secondary); margin: 1rem 0; font-size: 0.875rem;">
                            <span id="article-date"></span>
                            <span style="margin: 0 0.5rem;">|</span>
                            <span id="article-category"></span>
                        </div>
                        <div id="article-body" style="margin-top: 2rem;"></div>
                    </div>
                </article>
            </div>
        </div>
    </main>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MechaToraã®ãƒ–ãƒ­ã‚°</h3>
                    <p style="color: var(--text-secondary); font-size: 0.875rem;">
                        ç¤¾åŠ´å£«Ã—ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®MechaToraãŒé‹å–¶ã™ã‚‹æŠ€è¡“ãƒ–ãƒ­ã‚°ã§ã™ã€‚
                    </p>
                </div>
                <div class="footer-section">
                    <h3>ã‚«ãƒ†ã‚´ãƒªãƒ¼</h3>
                    <ul>
                        <li><a href="articles.html#tech">æŠ€è¡“ãƒ»é–‹ç™º</a></li>
                        <li><a href="articles.html#career">ã‚­ãƒ£ãƒªã‚¢ãƒ»è³‡æ ¼</a></li>
                        <li><a href="articles.html#datascience">ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹</a></li>
                        <li><a href="articles.html#misc">é›‘è¨˜</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>ã‚µã‚¤ãƒˆæƒ…å ±</h3>
                    <ul>
                        <li><a href="about.html">é‹å–¶è€…æƒ…å ±</a></li>
                        <li><a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
                        <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
                        <li><a href="https://mechatora.com" target="_blank" rel="noopener">MechaToraï¼ˆé–‹ç™ºãƒ„ãƒ¼ãƒ«ï¼‰</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MechaTora. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰è¨˜äº‹ã®slugã‚’å–å¾—
        const urlParams = new URLSearchParams(window.location.search);
        const slug = urlParams.get('slug');

        if (!slug) {
            document.getElementById('article-loading').style.display = 'none';
            document.getElementById('article-error').style.display = 'block';
        } else {
            // Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿
            fetch(`articles/content/${slug}.md`)
                .then(response => {
                    if (!response.ok) throw new Error('è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                    return response.text();
                })
                .then(content => {
                    // Front matterã¨Markdownæœ¬æ–‡ã‚’åˆ†é›¢
                    const parts = content.split('---\n');
                    let frontMatter = {};
                    let markdown = content;

                    if (parts.length >= 3) {
                        // Front matterãŒã‚ã‚‹å ´åˆ
                        try {
                            frontMatter = jsyaml.load(parts[1]);
                            markdown = parts.slice(2).join('---\n');
                        } catch (e) {
                            console.error('Front matter parse error:', e);
                        }
                    }

                    // ãƒ¡ã‚¿æƒ…å ±ã‚’è¨­å®š
                    const title = frontMatter.title || 'ç„¡é¡Œã®è¨˜äº‹';
                    const date = frontMatter.date ? new Date(frontMatter.date).toLocaleDateString('ja-JP') : '';
                    const category = frontMatter.category || '';
                    const description = frontMatter.description || '';
                    const keywords = frontMatter.keywords || '';

                    document.getElementById('page-title').textContent = `${title} | MechaToraã®ãƒ–ãƒ­ã‚°`;
                    document.getElementById('meta-description').setAttribute('content', description);
                    document.getElementById('meta-keywords').setAttribute('content', keywords);
                    document.getElementById('breadcrumb-title').textContent = title;
                    document.getElementById('article-title').textContent = title;
                    document.getElementById('article-date').textContent = date;
                    document.getElementById('article-category').textContent = category;

                    // Markdownã‚’HTMLã«å¤‰æ›
                    const htmlContent = marked.parse(markdown);
                    document.getElementById('article-body').innerHTML = htmlContent;

                    // è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
                    document.getElementById('article-loading').style.display = 'none';
                    document.getElementById('article-content').style.display = 'block';
                })
                .catch(error => {
                    console.error('Error loading article:', error);
                    document.getElementById('article-loading').style.display = 'none';
                    document.getElementById('article-error').style.display = 'block';
                });
        }
    </script>
    <script src="cookie-banner.js"></script>
</body>
</html>
